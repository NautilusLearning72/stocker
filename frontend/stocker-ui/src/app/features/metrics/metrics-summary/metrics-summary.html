<div class="summary-container relative">
  <!-- Loading State -->
  <div *ngIf="loading" class="loading-overlay">
    <mat-spinner diameter="40"></mat-spinner>
  </div>

  <!-- Summary Cards Grid -->
  <div class="cards-grid grid gap-4 md:grid-cols-2 xl:grid-cols-4" *ngIf="summary">
    <mat-card *ngFor="let card of cards" class="summary-card flex items-center gap-3" [ngClass]="card.colorClass">
      <div class="card-icon">
        <mat-icon>{{ card.icon }}</mat-icon>
      </div>
      <div class="card-content">
        <div class="card-label">
          {{ card.label }}
          <mat-icon
            class="help-icon"
            [matTooltip]="card.tooltip"
            matTooltipPosition="above"
            matTooltipClass="metrics-tooltip">
            help_outline
          </mat-icon>
        </div>
        <div class="card-value">{{ card.value }}</div>
      </div>
    </mat-card>
  </div>

  <!-- Category Breakdown -->
  <div class="category-breakdown flex flex-wrap items-center gap-2 border-t border-border pt-4 text-sm" *ngIf="summary && categoryBreakdown.length">
    <span class="breakdown-label text-muted">By Category:</span>
    <span *ngFor="let item of categoryBreakdown" class="category-chip" [ngClass]="'cat-' + item.category">
      {{ item.category }}: {{ item.count }}
    </span>
  </div>

  <!-- Empty State -->
  <div *ngIf="!loading && !summary" class="empty-state flex flex-col items-center justify-center rounded-md border border-border bg-canvas p-8 text-muted">
    <mat-icon>info</mat-icon>
    <p>No metrics data available for the selected period.</p>
  </div>
</div>
