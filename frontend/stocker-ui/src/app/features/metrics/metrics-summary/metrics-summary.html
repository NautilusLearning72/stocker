<div class="Box">
  <div class="Box-header">
    <h3 class="Box-title">System Activity Overview</h3>
  </div>
  <div class="Box-body">
    <!-- Loading overlay -->
    <div *ngIf="loading" class="loading-overlay">
      <mat-spinner diameter="40"></mat-spinner>
    </div>

    <div class="metrics-grid">
      <div *ngFor="let metric of getMetrics()" class="metric-stat-card">
        <div class="stat-header">
          <span class="stat-label">{{ metric.label }}</span>
          <span *ngIf="metric.badge" class="badge" [class]="'badge-' + metric.badge">
            {{ metric.badgeText }}
          </span>
        </div>
        <div class="stat-value">{{ metric.value }}</div>
        <div *ngIf="metric.help" class="stat-help">
          <mat-icon class="help-icon">help_outline</mat-icon>
          <span class="help-text">{{ metric.help }}</span>
        </div>
      </div>
    </div>

    <!-- Category breakdown -->
    <div class="category-breakdown mt-4" *ngIf="getCategories().length">
      <h4 class="breakdown-title">By Category</h4>
      <div class="category-chips">
        <span *ngFor="let cat of getCategories()"
              class="Counter"
              [class]="'Counter--' + cat.type">
          {{ cat.name }}: {{ cat.count }}
        </span>
      </div>
    </div>

    <!-- Empty State -->
    <div *ngIf="!loading && !summary" class="empty-state">
      <mat-icon class="empty-icon">info</mat-icon>
      <p class="empty-text">No metrics data available</p>
      <p class="empty-subtext">Try adjusting your time range</p>
    </div>
  </div>
</div>
